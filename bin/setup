#!/usr/bin/env bash

cd ${HOME}

function create_key() {
  cat <<__EOD__

  You do not have a public/private keypair associated with
  galaxy3.net (aka Third-Galaxy), creating a new key now.

  This key will only be used for downloading configuration
  files from the Third-Galaxy, though not normally recommended,
  press <enter> for a BLANK passphrase.

__EOD__

(cd ${HOME} && ssh-keygen -f .ssh/galaxy3)

}

function register_key () {
  cat __EOD__

  Register the following public key with you Github account
  if it is not already registered.

__EOD__

  cat ${HOME}/.ssh/galaxy.pub
  read -p "Press <enter> when finished: " input
}

function golden_egg () {

}

ls .ssh/galaxy3 || create_key
register_key

ls ${HOME}/galaxy3 || (git clone galaxy3:galaxy3-net/galaxy3.git)
(cd ${HOME}/galaxy3 && git checkout thedr && git pull)